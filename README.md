#!/bin/bash
# Скрипт для вывода информации о системе

# 1. Название и версия ОС, версия и архитектура ядра Linux
echo "=== ОС, версия и архитектура ядра Linux ==="
uname -a
echo ""

# 2. Информация о процессоре: модель, частота, количество ядер, размер кэш-памяти
echo "=== Информация о процессоре ==="
lscpu | grep -E 'Model name|CPU MHz|Socket|Thread|Core|Cache' || lscpu | grep -E 'Имя модели|МГц|Сокет|Поток|Ядро|Кэш'
echo ""

# 3. Информация о размере оперативной памяти: доступный размер, общий объем, использованная память
echo "=== Информация о оперативной памяти ==="
free -h
echo ""

# 4. Параметры сетевых интерфейсов: имя интерфейса, IP/MAC-адреса и скорость сетевого соединения
echo "=== Параметры сетевых интерфейсов ==="
for iface in $(ls /sys/class/net/); do
  echo "Интерфейс: $iface"
  ip addr show $iface | grep -E 'inet|link/ether'
  
  # Проверяем, доступен ли ethtool, чтобы вывести скорость соединения
  if command -v ethtool &> /dev/null; then
    ethtool $iface 2>/dev/null | grep -i speed
  else
    echo "ethtool не установлен, пропускаем вывод скорости."
  fi
  echo ""
done

# 5. Информация о системных разделах: точка монтирования, размер раздела, занятое и свободное пространство
echo "=== Информация о файловых системах ==="
df -h | grep '^/dev/'
echo ""

# 6. Поддержка систем с несколькими процессорами (серверные системы)
echo "=== Количество процессоров ==="
nproc
echo ""

# 7. Поддержка нескольких IP-адресов на одном сетевом интерфейсе
echo "=== Добавление дополнительного IP-адреса на интерфейс eth0 ==="
ip addr add 192.168.1.100/24 dev eth0 2>/dev/null
echo "Дополнительный IP добавлен, если eth0 поддерживает данную операцию."
echo ""

# Конец скрипта
echo "Скрипт выполнен."
